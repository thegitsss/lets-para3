<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Browse Jobs | Let<span class="gold">’</span>s-ParaConnect</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@200;400;600&family=Cormorant+Garamond:wght@300;600&display=swap" rel="stylesheet" />
  <script src="assets/scripts/utils/session.js"></script>
  <script type="module" src="assets/scripts/auth.js"></script>
  <style>
    .gold{color:#b4975a;}
    :root{
      --accent:#d19c3a;
      --bg:#ffffff;
      --panel:#ffffff;
      --line:rgba(12,18,37,0.08);
      --muted:#5c6475;
      --ink:#0b1225;
      --font-serif:'Cormorant Garamond',serif;
      --font-sans:'Sarabun',sans-serif;
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:var(--font-sans);font-weight:200;background:var(--bg);color:var(--ink);min-height:100vh;display:flex;flex-direction:column;}
    header{display:flex;justify-content:space-between;align-items:center;padding:20px 28px;border-bottom:1px solid var(--line);position:sticky;top:0;background:#fff;z-index:10;}
    .logo{font-family:'Cormorant Garamond',serif;font-size:1.25rem;font-weight:300;letter-spacing:0.05em;color:#1a2230;text-transform:none;}
    .logo a{color:inherit;text-decoration:none;}
    nav{display:flex;gap:14px;align-items:center;}
    nav a{text-decoration:none;color:var(--ink);font-weight:200;padding:8px 12px;border-radius:10px;transition:background .2s ease;}
    nav a:hover,nav a.active{background:rgba(0,0,0,0.05);}
    .header-cluster{display:flex;align-items:center;gap:12px;position:relative;}
    .notification-icon{position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:50%;border:1px solid var(--line);background:#fff;transition:border-color .2s ease,transform .2s ease;}
    .notification-icon:hover{border-color:var(--accent);transform:translateY(-1px);}
    .notification-icon svg{width:20px;height:20px;color:var(--ink);}
    .notification-badge{position:absolute;top:-6px;right:-6px;background:#e63946;color:#fff;border-radius:50%;font-size:.7rem;width:18px;height:18px;display:none;align-items:center;justify-content:center;font-weight:300;}
    .notification-badge.show{display:flex;}
    .header-cluster [data-notification-toggle][data-count]:after,
    #notificationToggle[data-count]:after{
      content:attr(data-count);
      position:absolute;
      top:-4px;
      right:-4px;
      background:var(--accent);
      color:#fff;
      font-family:'Sarabun',sans-serif;
      font-weight:200;
      font-size:0.7rem;
      padding:2px 6px;
      border-radius:999px;
    }
    .user-profile{display:flex;align-items:center;gap:.6rem;padding:6px 10px;border:1px solid var(--line);border-radius:12px;background:#fff;}
    .user-profile img{width:42px;height:42px;border-radius:50%;object-fit:cover;box-shadow:0 6px 16px rgba(0,0,0,0.08);}
    .user-profile strong{display:block;font-weight:300;}
    .user-profile span{display:block;font-size:.85rem;color:var(--muted);font-weight:200;}
    .notif-panel{position:absolute;right:0;top:48px;width:340px;background:#fff;border:1px solid rgba(0,0,0,0.08);border-radius:12px;padding:0;z-index:2000;display:none;flex-direction:column;box-shadow:0 24px 48px rgba(0,0,0,0.12);}
    .notif-panel.show{display:flex;}
    .notif-panel.hidden{display:none;}
    .notif-header{font-family:'Cormorant Garamond',serif;font-weight:300;font-size:1.3rem;padding:14px 18px;border-bottom:1px solid rgba(0,0,0,0.08);background:#fafafa;}
    #notifList{max-height:360px;overflow-y:auto;}
    .notif-item{padding:14px 18px;border-bottom:1px solid rgba(0,0,0,0.06);cursor:pointer;transition:background .15s ease;}
    .notif-item:last-child{border-bottom:none;}
    .notif-item:hover{background:#f6f6f6;}
    .notif-item.unread{background:#fff;border-left:3px solid var(--accent);}
    .notif-item.read{opacity:.75;}
    .notif-title{font-family:'Cormorant Garamond',serif;font-weight:300;font-size:1.15rem;margin-bottom:2px;color:#1a1a1a;}
    .notif-body{font-family:'Sarabun',sans-serif;font-weight:200;font-size:.92rem;color:#444;line-height:1.45;}
    .notif-time{margin-top:4px;font-family:'Sarabun',sans-serif;font-weight:200;font-size:.8rem;color:#888;}
    .notif-empty{padding:18px;text-align:center;font-size:.9rem;color:#8a8a8a;}
    .notif-markall{border:none;border-top:1px solid rgba(0,0,0,0.08);background:#fafafa;padding:12px;font-family:'Sarabun',sans-serif;font-weight:200;font-size:.9rem;cursor:pointer;text-align:left;}
    .notif-markall:hover{background:#f0f0f0;}
    main{max-width:1100px;margin:32px auto;padding:0 24px 64px;flex:1;}
    .lpc-card{border:1px solid var(--line);border-radius:12px;padding:18px;background:#fff;box-shadow:0 14px 40px rgba(0,0,0,0.08);}
    .lpc-card h3{font-family:var(--font-serif);font-weight:300;margin-bottom:12px;}
    .job-card{border:1px solid var(--line);border-radius:10px;padding:12px;margin-bottom:12px;background:#fcfcfc;}
    .job-card button{margin-top:8px;border:none;background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;}
    .job-card button:hover{background:#a38e5f;}
    body.modal-open{overflow:hidden;}
    .job-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:1500;padding:24px;transition:opacity .2s ease;}
    .job-modal.hidden{opacity:0;pointer-events:none;}
    .job-modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.5);backdrop-filter:blur(4px);}
    .job-modal-card{position:relative;max-width:720px;width:100%;background:#fff;border-radius:24px;padding:28px 28px 32px;box-shadow:0 24px 70px rgba(0,0,0,0.18);display:flex;flex-direction:column;gap:18px;z-index:1;}
    .job-modal-close{position:absolute;top:16px;right:16px;border:none;background:transparent;font-size:1.6rem;cursor:pointer;color:var(--muted);}
    .job-modal-header{display:flex;gap:18px;align-items:flex-start;}
    .job-attorney-btn{display:flex;align-items:center;gap:12px;padding:0;border:none;background:transparent;text-align:left;cursor:pointer;}
    .job-attorney-avatar{width:58px;height:58px;border-radius:16px;object-fit:cover;border:1px solid var(--line);background:#f4f4f4;}
    .job-attorney-name{font-weight:400;font-size:1.05rem;}
    .job-attorney-firm{font-size:.9rem;color:var(--muted);}
    .job-header-text h2{font-family:var(--font-serif);font-size:2rem;font-weight:300;margin:0;}
    .job-header-text p{margin:6px 0 0;color:var(--muted);}
    .job-modal-body{white-space:pre-line;line-height:1.6;color:var(--ink);border-top:1px solid var(--line);border-bottom:1px solid var(--line);padding:18px 0;}
    .job-modal-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;}
    .job-compensation{font-weight:400;font-size:1.1rem;}
    .job-modal .btn{border:none;border-radius:999px;padding:10px 20px;font-weight:400;cursor:pointer;background:var(--accent);color:#fff;}
    .job-modal .btn:hover{background:#a38e5f;}
    @media (max-width:640px){
      .job-modal-card{padding:20px;}
      .job-modal-header{flex-direction:column;}
      .job-attorney-btn{width:100%;}
    }
    .footer{border-top:1px solid var(--line);background:#ffffff;padding:24px 0;font-size:14px;color:#9ca3af;margin-top:auto;}
    .footer-inner{width:min(1200px,92vw);margin:0 auto;display:grid;grid-template-columns:1fr auto 1fr;align-items:center;text-align:center;gap:10px;}
    .footer p{justify-self:start;margin:0;color:#9ca3af;font-family:'Sarabun',sans-serif;font-weight:200;}
    .footer nav{justify-self:center;display:flex;flex-wrap:wrap;gap:8px;justify-content:center;font-family:'Sarabun',sans-serif;font-weight:200;}
    .footer nav a{color:#9ca3af;text-decoration:none;transition:color 0.25s ease;}
    .footer nav a:hover{color:#ffffff;}
    .footer nav span{color:#5f6771;}
    .footer .region{justify-self:end;font-size:0.85rem;color:#868ea3;font-family:'Sarabun',sans-serif;font-weight:200;}
  </style>
</head>
<body>
  <header>
    <div class="logo"><a href="index.html" style="text-decoration:none;color:inherit;">Let<span class="gold">’</span>s-ParaConnect</a></div>
    <nav>
      <a href="dashboard-paralegal.html">Dashboard</a>
      <a href="browse-jobs.html" class="active">Browse Jobs</a>
    </nav>
    <div class="header-cluster" data-notification-center>
      <button class="notification-icon" aria-label="View notifications" data-notification-toggle id="notificationToggle">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8a6 6 0 10-12 0c0 7-3 9-3 9h18s-3-2-3-9" />
          <path d="M13.73 21a2 2 0 01-3.46 0" />
        </svg>
        <span class="notification-badge" id="notificationBadge" data-notification-badge>0</span>
      </button>
      <div class="user-profile">
        <img id="clusterAvatar" class="nav-profile-photo" src="https://via.placeholder.com/64x64.png?text=PL" alt="Paralegal avatar">
        <div>
          <strong id="clusterName">Paralegal</strong>
          <span id="clusterRole">Logged in</span>
        </div>
      </div>
      <div id="notificationPanel" class="notif-panel hidden" data-notification-panel>
        <div class="notif-header">Notifications</div>
        <div id="notifList" data-notification-list></div>
        <div class="notif-empty" data-notification-empty>Loading…</div>
        <button id="markAllReadBtn" class="notif-markall" type="button" data-notification-mark>Mark All Read</button>
      </div>
    </div>
  </header>

  <main>
    <section id="jobList" class="lpc-card">
      <h3>Available Jobs</h3>
    </section>
  </main>

  <div id="jobModal" class="job-modal hidden" aria-hidden="true">
    <div class="job-modal-backdrop"></div>
    <div class="job-modal-card" role="dialog" aria-modal="true" aria-labelledby="jobTitle">
      <button id="jobModalClose" class="job-modal-close" type="button" aria-label="Close">&times;</button>
      <header class="job-modal-header">
        <div class="job-attorney">
          <button id="jobAttorneyButton" class="job-attorney-btn" type="button">
            <img id="jobAttorneyAvatar" class="job-attorney-avatar" alt="Attorney photo" />
            <div class="job-attorney-meta">
              <div id="jobAttorneyName" class="job-attorney-name">Attorney</div>
              <div id="jobAttorneyFirm" class="job-attorney-firm"></div>
            </div>
          </button>
        </div>
        <div class="job-header-text">
          <h2 id="jobTitle">Job Title</h2>
          <p id="jobSummary"></p>
        </div>
      </header>
      <section id="jobBody" class="job-modal-body"></section>
      <footer class="job-modal-footer">
        <div id="jobCompensation" class="job-compensation"></div>
        <button id="jobApplyBtn" class="btn" type="button">Apply</button>
      </footer>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-inner">
      <p>© <script>document.write(new Date().getFullYear());</script> Let<span class="gold">’</span>s-ParaConnect. All rights reserved.</p>
      <nav>
        <a href="privacy.html">Privacy Policy</a>
        <span>|</span>
        <a href="terms.html">Terms</a>
        <span>|</span>
        <a href="contact.html">Contact</a>
        <span>|</span>
        <a href="accessibility.html">Accessibility</a>
      </nav>
      <div class="region">United States</div>
    </div>
  </footer>

  <script src="assets/scripts/utils/toast.js"></script>
  <script type="module" src="assets/scripts/utils/notifications.js"></script>
  <script src="assets/scripts/paralegal-cluster.js"></script>
  <script type="module" src="assets/scripts/browse-jobs.js"></script>
</body>
</html>
