:root{
  /* Design tokens */
  --ink:#1a1f25;
  --muted:#64748b;
  --line:#e8edf3;
  --card:#fff;
  --accent:#b4975a;
  --navy:#27394d;
  --ok:#1f7a4a;
  --bad:#b04747;

  /* Layout tokens */
  --container:1100px;
}

/* ------------------------------ */
/* Dark mode (opt-in)             */
/* ------------------------------ */
:root.dark,
:root[data-theme="dark"]{
  --ink:#e5e7eb;
  --muted:#94a3b8;
  --line:#2a3240;
  --card:#0f131a;
  --navy:#93c5fd;
  --accent:#d4b86a;
  --ok:#22c55e;
  --bad:#ef4444;
}
:root.dark body{ background:#0b0f14; color:var(--ink); }
:root.dark header,
:root.dark .card,
:root.dark .btn,
:root.dark .toolbar input,
:root.dark .toolbar select{
  background:var(--card);
  border-color:var(--line);
  color:var(--ink);
}
:root.dark .message{ background:#0d1622; border-color:var(--line); color:var(--ink); }
:root.dark .badge{ background:#18202b; border-color:var(--line); color:var(--ink); }

/* ------------------------------ */
/* Page chrome                    */
/* ------------------------------ */
body{ background:#fdfaf6; color:var(--ink); }
header{
  padding:14px 20px; background:#fff; border-bottom:1px solid var(--line);
  display:flex; align-items:center; gap:14px;
}
header a{ color:var(--navy); text-decoration:none; margin-right:12px; }
header a.active{ color:var(--accent); }
main{ max-width:var(--container); margin:28px auto; padding:0 16px; }

/* ------------------------------ */
/* Toolbar                        */
/* ------------------------------ */
.toolbar{
  display:grid; grid-template-columns: 1fr auto auto auto;
  gap:10px; align-items:center; margin:12px 0 18px;
}
.toolbar input[type="search"], .toolbar select{
  padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#fff; font:inherit;
}
.switch{ display:flex; align-items:center; gap:8px; color:#334155; font-size:.95rem; }
.switch input{ accent-color:var(--accent); }

@media (max-width:720px){
  .toolbar{ grid-template-columns:1fr; }
  .toolbar .btn{ width:100%; }
}

/* ------------------------------ */
/* Buttons                        */
/* ------------------------------ */
.btn{
  border:1px solid var(--line); border-radius:10px; padding:.55rem .85rem; cursor:pointer; font-weight:600;
  transition: transform .08s ease, filter .2s ease; background:#fff; color:#1f2937;
}
.btn:hover{ filter:brightness(.98); }
.btn:active{ transform:translateY(1px); }

.btn.primary{ background:var(--navy); color:#fff; border:0; }
.btn.ok{ background:var(--ok); color:#fff; border:0; }
.btn.bad{ background:var(--bad); color:#fff; border:0; }

/* Link-style button variant (kept for compatibility) */
.btn.link{ border:1px solid var(--line); background:#fff; color:#1f2937; text-decoration:none; display:inline-block; }

/* Hover states on dark backgrounds */
.btn.primary:hover,
.btn.ok:hover,
.btn.bad:hover{ filter:brightness(1.06); }

/* Disabled state */
.btn[disabled], .btn:disabled{
  opacity:.6;
  cursor:not-allowed;
  filter:none;
  transform:none;
}

/* ------------------------------ */
/* Focus visibility               */
/* ------------------------------ */
:where(a, button, [tabindex]:not([tabindex="-1"])):focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
  border-radius:10px;
}

/* ------------------------------ */
/* Lists & Cards                  */
/* ------------------------------ */
.list{ display:grid; gap:14px; }
.card{
  background:var(--card); border:1px solid var(--line); border-radius:12px;
  box-shadow:0 2px 10px rgba(0,0,0,.04); padding:14px; display:grid; gap:8px;
  transition: transform .18s ease, box-shadow .18s ease;
}
.card:hover{ transform:translateY(-1px); box-shadow:0 6px 16px rgba(0,0,0,.06); }
.card:focus-within{
  box-shadow:0 0 0 2px var(--accent) inset, 0 6px 16px rgba(0,0,0,.08);
}

.head{ display:flex; justify-content:space-between; align-items:baseline; gap:10px; }
.title{ font-weight:600; color:#111827; }
.small{ color:#475569; font-size:.9rem; } /* Slightly stronger contrast */

.meta{ color:var(--muted); font-size:.95rem; display:flex; flex-wrap:wrap; gap:8px 14px; }
.badge{
  display:inline-block; padding:4px 10px; border-radius:999px; font-size:.84rem;
  background:#eef2f7; border:1px solid #d8e0ea; color:#27313a;
}
.badge.is-ok{ background:#ecfdf5; border-color:#a7f3d0; color:#065f46; }
.badge.is-warn{ background:#fffbeb; border-color:#fde68a; color:#92400e; }
.badge.is-bad{ background:#fef2f2; border-color:#fecaca; color:#7f1d1d; }

.message{
  background:#fafbff; border:1px dashed var(--line); border-radius:10px; padding:10px; color:#27313a;
}
.actions{ display:flex; flex-wrap:wrap; gap:8px; }

/* ------------------------------ */
/* Skeleton loader                */
/* ------------------------------ */
.skeleton{
  position:relative; overflow:hidden;
  background:linear-gradient(180deg,#f6f7fb 0%, #eef2f7 100%);
  border:1px solid var(--line); border-radius:12px; height:110px;
}
.skeleton::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);
  animation:shimmer 1.1s infinite;
}
@keyframes shimmer{ 0%{transform:translateX(-100%);} 100%{transform:translateX(100%);} }

/* ------------------------------ */
/* Toast                          */
/* ------------------------------ */
.toast{
  position:fixed; bottom:18px; right:18px; background:#111827; color:#fff;
  padding:10px 14px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,.2);
  opacity:0; transform:translateY(6px); transition:all .18s ease; z-index:1000;
  max-width:min(360px, 90vw); line-height:1.25;
}
.toast.show{ opacity:1; transform:translateY(0); }
.toast.ok{ background:#0f5132; }
.toast.err{ background:#6b1f1f; }

/* ------------------------------ */
/* Utility                        */
/* ------------------------------ */
.hidden{ display:none !important; }

/* ------------------------------ */
/* Reduced motion                 */
/* ------------------------------ */
@media (prefers-reduced-motion: reduce){
  *{
    animation-duration:.001ms !important;
    animation-iteration-count:1 !important;
    transition:none !important;
    scroll-behavior:auto !important;
  }
}

/* ------------------------------ */
/* RTL safety                     */
/* ------------------------------ */
:root[dir="rtl"] .head{ flex-direction:row-reverse; }
:root[dir="rtl"] .meta{ justify-content:flex-end; }

/* ------------------------------ */
/* Print tweaks                   */
/* ------------------------------ */
@media print{
  header,.toolbar,.actions,.toast{ display:none !important; }
  body{ background:#fff; color:#000; }
  .card{ box-shadow:none; border-color:#bbb; }
}
