<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Paralegal Settings | Let's-ParaConnect</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@200;400;600&family=Cormorant+Garamond:wght@300;600&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css"/>
<script src="assets/scripts/utils/session.js"></script>
<script type="module" src="assets/scripts/auth.js"></script>
<style>
:root{
  --accent:#d19c3a;
  --accent-2:#2f8c7a;
  --bg:#ffffff;
  --panel:#ffffff;
  --line:rgba(12,18,37,.08);
  --muted:#5c6475;
  --ink:#0b1225;
  --font-serif:'Cormorant Garamond',serif;
  --font-sans:'Sarabun',sans-serif;
  --shadow:0 18px 55px rgba(12,18,37,.08);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:var(--font-sans);
  font-weight:200;
  color:var(--ink);
  background:var(--bg);
  display:flex;
  min-height:100vh;
  overflow:hidden;
}
/* Sidebar */
.sidebar{
  width:260px;
  background:url('hero-mountain.jpg') center/cover no-repeat fixed;
  color:#fff;
  display:flex;
  flex-direction:column;
  font-weight:200;
  padding:24px 20px;
  border-right:1px solid var(--line);
  position:relative;
}
.sidebar::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,0.45);}
.logo,nav,.sidebar-footer{position:relative;z-index:2;}
.logo{font-family:var(--font-serif);font-size:1.7rem;font-weight:300;text-align:center;margin-bottom:36px;}
nav{display:flex;flex-direction:column;gap:14px;}
nav a{text-decoration:none;color:#fff;font-weight:200;font-size:.95rem;padding:10px 14px;border-radius:8px;transition:background .3s;}
nav a.active,nav a:hover{background:rgba(255,255,255,0.15);}
.sidebar-link{display:block;width:100%;border:none;background:none;color:#fff;font-size:.95rem;font-family:var(--font-sans);font-weight:200;text-align:left;padding:10px 14px;border-radius:8px;cursor:pointer;position:relative;z-index:2;}
.sidebar-link:hover,.sidebar-link:focus{background:rgba(255,255,255,0.15);outline:none;}
.sidebar-footer{margin-top:auto;font-size:.7rem;color:#e8e8e8;text-align:center;position:relative;}
#weatherSidebar{position:absolute;bottom:48px;left:0;width:100%;text-align:center;color:#fff;font-size:1rem;font-family:var(--font-serif);z-index:2;}
/* Main */
.main{flex:1;padding:40px;overflow-y:auto;}
header h1{font-family:var(--font-serif);font-weight:300;font-size:2.3rem;margin-bottom:.25rem;}
header p{color:var(--muted);font-size:.95rem;margin-bottom:2rem;}
.page-header{display:flex;justify-content:space-between;align-items:center;gap:16px;}
.header-cluster{display:flex;align-items:center;gap:14px;position:relative;}
.notification-icon{position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:50%;border:1px solid var(--line);background:#fff;transition:border-color .2s ease,transform .2s ease;}
.notification-icon:hover{border-color:var(--accent);transform:translateY(-1px);} 
.notification-icon svg{width:20px;height:20px;color:var(--ink);} 
.notification-badge{position:absolute;top:-6px;right:-6px;background:#e63946;color:#fff;border-radius:50%;font-size:.7rem;width:18px;height:18px;display:none;align-items:center;justify-content:center;font-weight:700;} 
.notification-badge.show{display:flex;} 
.user-profile{display:flex;align-items:center;gap:.6rem;padding:6px 10px;border:1px solid var(--line);border-radius:12px;background:#fff;} 
.user-profile img{width:42px;height:42px;border-radius:50%;object-fit:cover;box-shadow:0 6px 16px rgba(0,0,0,0.08);} 
.user-profile strong{display:block;font-weight:500;} 
.user-profile span{display:block;font-size:.85rem;color:var(--muted);font-weight:200;} 
.notification-panel{position:absolute;right:0;top:calc(100% + 10px);width:280px;padding:14px;background:#fff;border:1px solid var(--line);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.1);display:none;z-index:50;} 
.notification-panel.show{display:block;} 
.notification-panel.hidden{display:none;} 
.notification-panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;font-size:.92rem;} 
.notification-panel-header button{border:none;background:none;color:var(--accent);cursor:pointer;font-size:.85rem;} 
[data-notification-list]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px;} 
[data-notification-list] li{border:1px solid var(--line);border-radius:12px;padding:10px;background:#fcfcfc;} 
[data-notification-list] li strong{display:block;font-weight:500;margin-bottom:4px;} 
[data-notification-list] li span{display:block;font-size:.8rem;color:var(--muted);} 
[data-notification-empty]{font-size:.85rem;color:var(--muted);} 
.section {display:none;opacity:0;transition:opacity .4s ease;} 
.section.visible {display:block;opacity:1;} 
nav a.active {background:rgba(255,255,255,0.25);} 
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem;margin-bottom:1.5rem;} 
.lpc-card{border:1px solid var(--line);border-radius:10px;padding:1.5rem;background:#fff;box-shadow:var(--shadow);} 
.lpc-card h3{font-family:var(--font-serif);font-weight:500;margin-bottom:.75rem;} 
.lpc-card h4{margin-top:1rem;margin-bottom:.5rem;font-family:var(--font-serif);font-weight:500;} 
.lpc-card ul{padding-left:1.1rem;line-height:1.5;} 
.lpc-card img.profile-img{width:120px;height:120px;border-radius:12px;object-fit:cover;display:block;margin:0 auto 1rem;box-shadow:0 10px 30px rgba(0,0,0,0.08);} 
.primary-btn{background:var(--accent);color:#fff;border:none;border-radius:10px;padding:12px 18px;font-size:1rem;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.08);} 
.primary-btn:hover{background:#a38e5f;} 
input[type="file"]{display:block;margin-top:.4rem;font-family:var(--font-sans);font-weight:200;font-size:.85rem;color:var(--ink);border:1px solid var(--line);border-radius:6px;padding:4px 6px;background:#fff;}
input[type="file"]::file-selector-button{background:#fff;color:var(--ink);border:1px solid var(--line);border-radius:5px;padding:4px 8px;margin-right:6px;cursor:pointer;font-family:var(--font-sans);font-weight:200;font-size:.85rem;}
input[type="file"]::file-selector-button:hover{border-color:var(--accent);color:var(--accent);}
.preview-square {
    width: 300px;
    height: 300px;
    border-radius: 12px;
    overflow: hidden;
    background: #f5f5f5;
    border: 1px solid #ddd;
}
</style>
</head>
<body>
<aside class="sidebar">
  <div class="logo">Paralegal Panel</div>
  <nav>
    <a href="dashboard-paralegal.html">Home</a>
    <a href="#paraApplications">Applications</a>
    <a href="#paraAssignedCases">Assigned Cases</a>
    <a href="profile-settings.html" class="active">Settings</a>
  </nav>
  <button type="button" class="sidebar-link" id="logoutBtn">Log Out</button>
  <div id="weatherSidebar">Stay current</div>
  <div class="sidebar-footer">© Let's-ParaConnect 2025</div>
</aside>
<main class="main">
  <header class="page-header">
    <div>
      <h1>Profile Settings</h1>
      <p>Manage your profile, résumé, skills, and notifications.</p>
    </div>
    <div class="header-cluster" data-paralegal-cluster data-notification-center>
      <button class="notification-icon" aria-label="View notifications" data-notification-toggle>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 8a6 6 0 10-12 0c0 7-3 9-3 9h18s-3-2-3-9" />
          <path d="M13.73 21a2 2 0 01-3.46 0" />
        </svg>
        <span class="notification-badge" id="notificationBadge" data-notification-badge>0</span>
      </button>
      <div id="profileHeaderBlock" class="user-profile">
        <img id="clusterAvatar" class="globalProfileImage nav-profile-photo profile-img-small" src="https://via.placeholder.com/64x64.png?text=PL" alt="Paralegal avatar">
        <div>
          <span id="clusterName" class="globalProfileName">Paralegal</span><br>
          <span id="clusterRole" class="globalProfileRole">Logged in</span>
        </div>
      </div>
      <div class="notification-panel" data-notification-panel>
        <div class="notification-panel-header">
          <h4 style="margin:0;font-size:0.95rem;">Notifications</h4>
          <button type="button" data-notification-mark>Mark all read</button>
        </div>
        <ul data-notification-list></ul>
        <p class="notification-item" data-notification-empty>Loading…</p>
      </div>
    </div>
  </header>

  <div class="card-grid">
    <section id="settingsProfilePhoto" class="lpc-card"></section>
    <section id="settingsResume" class="lpc-card"></section>
    <section id="settingsBio" class="lpc-card"></section>
    <section id="settingsEducation" class="lpc-card"></section>
    <section id="settingsAwards" class="lpc-card"></section>
    <section id="settingsSkills" class="lpc-card"></section>
    <section id="settingsLinkedIn" class="lpc-card"></section>
    <section id="settingsNotifications" class="lpc-card"></section>
    <div style="grid-column: 1 / -1;">
      <button id="saveSettingsBtn" class="primary-btn">Save Changes</button>
    </div>
  </div>
</main>

<div id="toastBanner" class="toast" role="status" aria-live="polite"></div>
<script src="assets/scripts/utils/toast.js"></script>
<script type="module" src="assets/scripts/utils/notifications.js"></script>
<script src="assets/scripts/paralegal-cluster.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
<script type="module">
  import { loadUserHeaderInfo } from "./assets/scripts/auth.js";
  loadUserHeaderInfo();
</script>
<script src="assets/scripts/profile.js"></script>
</body>
</html>
